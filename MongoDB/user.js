db.createCollection('user', {validator: {$jsonSchema: {bsonType: 'object',title: 'user',required: ['name','email','password'],properties:{name:{bsonType: 'string'},email:{bsonType: 'string'},password:{bsonType: 'string'},reward:{bsonType: 'array',items:{title: 'object',required: ['name'],properties:{name:{bsonType: 'string'}}}},subscription:{bsonType: 'array',items:{title: 'object',required: ['type'],properties:{type:{enum: 'clues', 'rooms'}}}},current_ticket:{bsonType: 'array',items:{title: 'object',required: ['date','price','session_total','player_count','session_used'],properties:{date:{bsonType: 'timestamp'},price:{bsonType: 'decimal'},session_total:{bsonType: 'int'},player_count:{bsonType: 'int'},session_used:{bsonType: 'int'}}}},session:{bsonType: 'array',items:{title: 'object',required: ['room_id','solved','date'],properties:{room_id:{bsonType: 'objectId'},solved:{bsonType: 'bool'},date:{bsonType: 'timestamp'}}}}}}}});